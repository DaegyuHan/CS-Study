# 멀티프로세싱

멀티프로세싱은 **여러 개의 프로세스를 통해 동시에 두 가지 이상의 일을 수행**할 수 있는 것을 말한다. 이를 통해 하나 이상의 일을 병렬로 처리할 수 있으며 특정 프로세스의 메모리나 일부에 문제가 발생되더라도 다른 프로세스를 통해 처리하므로 신뢰성이 높은 강점이 있다.

## 웹 브라우저
- **브라우저 프로세스** : 주소 표시줄, 북마크 막대, 뒤로 가기 버튼, 앞으로 가기 버튼, 네트워크 요청이나 파일 접근 같은 권한을 담당.
- **렌더러 프로세스** : 웹 사이트가 보이는 부분의 모든 것 제어.
- **플러그인 프로세스** : 웹 사이트에서 사용하는 플러그인을 제어.
- **GPU 프로세스** : GPU를 이용해서 화면을 그리는 부분을 제어.

## IPC (Inter Process Communication)

IPC는 **프로세스끼리 데이터를 주고받고 공유 데이터를 관리하는 메커니즘**을 뜻한다. 클라이언트가 데이터를 요청하고 서버가 클라이언트 요청에 응답하는 것도 한 예다. 종류로는 *공유 메모리, 파일, 소켓, 익명 파이프, 명명 파이프, 메시지 큐*가 있다. 이들은 모두 메모리가 완전히 공유되는 스레드보다는 속도가 떨어진다. 

### 공유 메모리 (shared memory)

- 여러 프로세스에 동일한 메모리 블록에 대한 접근 권한을 부여, 프로세스가 서로 통신할 수 있도록 공유 메모리 생성해서 통신.

<br>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Shared_memory.svg/1200px-Shared_memory.svg.png" style="width:400px; padding-left:10px;">
<br>

- 어떠한 매개체 없이 메모리 자체를 공유하기 때문에 불필요한 데이터 복사의 오버헤드가 발생하지 않아 가장 빠름.
- 같은 메모리 영역을 여러 프로세스가 공유해 동기화가 필요.
- 하드웨어 관점에서는 CPU가 접근할 수 있는 큰 랜덤 접근 메모리인 RAM을 가리키기도 함.

### 파일
- 디스크에 저장된 데이터 또는 파일 서버에서 제공한 데이터.

### 소켓
- 네트워크 인터페이스를 통해 전송하는 데이터를 의미.
- TCP, UDP

### 익명 파이프 (unnamed pipe)
- 프로세스 간 FIFO 방식으로 읽히는 임시 공간인 파이프 기반.
- 단방향 방식의 읽기 전용, 쓰기 전용 파이프를 만들어서 작동하는 방식.

<br>
<img src="https://velog.velcdn.com/images/slr-09/post/0a2399a8-cb2a-49d3-887c-db58eea397a5/image.png" style="width:400px; padding-left:10px;">
<br>

- 부모, 자식 프로세스 간에서만 사용 가능.

### 명명된 파이프 (named pipe)
- 파이프 서버와 하나 이상의 파이프 클라이언트 간의 통신을 위해 명명된 단방향 또는 양방향 파이프.
- 클라이언트/서버 통신을 위한 별도 파이프 제공.
- 여러 파이프 동시 사용 가능.
- 컴퓨터의 프로세스끼리 또는 다른 네트워크 상의 컴퓨터와도 통신 가능.

<br>
<img src="https://velog.velcdn.com/images/sean2337/post/96eb2f03-5fac-4afb-8557-ec952e3efe76/image.png" style="width:600px; padding-left:10px;">
<br>

- 서버용 파이프와 클라이언트용 파이프로 구분해서 작동.
- 하나의 인스턴스를 열거나 여러 개의 인스턴스를 기반으로 통신.

### 메시지 큐 (queue)
- 메시지를 큐 데이터 구조 형태로 관리하는 것 의미.
- 커널의 전역변수 형태 등 커널에서 전역적으로 관리.
- 다른 IPC 방식에 비해 사용 방법이 매우 직관적이고 간단.

<br>
<img src="https://user-images.githubusercontent.com/50273712/135778817-0d97c716-6a04-4dae-b632-84da95b6292d.png" style="width:400px; padding-left:10px;">
<br>

